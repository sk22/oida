<!DOCTYPE html>
<html lang="en">
  <head>
    <title>oida</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
  </head>  
  <body contenteditable spellcheck="false" class="oida">
    <div>oida</div>
    <script>
      let interval
      let colors = ["white", "red", "orange", "yellow", "green", "blue", "darkblue", "purple"]
      function oida() {
        return Array(colors.length).fill(25).map((n, i) => n * (i + 1) / 100).map(n => `${n}rem `.repeat(2)).map((x, i) => `${x}${colors[i]}`).join(', ') + ';'
      }
      console.log(colors)
      console.log(oida)
      
      function whee() {
        colors = [ colors[0], ...colors.slice(2), colors[1] ]
        setInterval(100, () => document.querySelectorAll('body > *').forEach(e => e.setAttribute('style', `text-shadow: ${oida()};`)))
      }
      
      if (location.hash) {
        document.querySelector('body > *').innerText = decodeURIComponent(location.hash.slice(1))
      }
      
      const update = () => {
        setTimeout(() => location.hash = document.body.innerText);
      }
      
      document.body.addEventListener('keydown', update)
      
      let observer = new MutationObserver(update)
        .observe(document.body, { attributes: true, childList: true, subtree: true });
    </script>
  </body>
</html>
